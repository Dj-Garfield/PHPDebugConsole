(function(e){if(!e){return}var a="fa-plus-square-o",j="fa-minus-square-o",m="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css",l={".expand-all":'<i class="fa fa-plus"></i>',".group-header":'<i class="fa '+j+'"></i>',".timestamp":'<i class="fa fa-calendar"></i>',".assert":"<i><b>&ne;</b></i>",".count":'<i class="fa fa-plus-circle"></i>',".info":'<i class="fa fa-info-circle"></i>',".warn":'<i class="fa fa-warning"></i>',".error":'<i class="fa fa-times-circle"></i>',".time":'<i class="fa fa-clock-o"></i>'};e(function(){e("<link/>",{rel:"stylesheet",href:m}).appendTo("head");e().debugEnhance("addCss",".debug");e(".debug").debugEnhance()});jQuery.fn.debugEnhance=function(n){if(n){if(n=="addCss"){g(arguments[1])}return}this.each(function(){if(e(".expand-all",this).length){return}k(this);d(this);i(this);c(this);h(this)});this.on("click","[data-toggle=group]",function(){f(this);return false});this.on("click","[data-toggle=array]",function(){b(this);return false});return this};function g(o){var n=".debug i.fa, .debug .assert i { font-size: 1.33em; line-height: 1; margin-right: .33em; }.debug i.fa-plus-circle { opacity: 0.42 }.debug i.fa-calendar { font-size: 1.1em; }.debug a.expand-all { color: inherit; text-decoration: none; }.debug a.expand-all { font-size:1.25em; }.debug .group-header { cursor: pointer; }.debug .t_array-collapse, .debug .t_array-expand { cursor: pointer; }.debug .t_array-collapse i.fa, .debug .t_array-expand i.fa { font-size: inherit; }";if(o){n=n.replace(new RegExp(/\.debug\s/g),o+" ")}e("<style>"+n+"</style>").appendTo("head")}function d(n){e.each(l,function(p,o){e(p,n).each(function(){e(this).prepend(o)})})}function k(n){var o=e("<a>").prop({href:"#"}).html("Expand All").addClass("expand-all");if(e(n).find(".group-header").length){o.on("click",function(){e(".group-header",n).each(function(){if(!e(this).nextAll(".group").eq(0).is(":visible")){f(this)}});return false});e(n).find(".debug-content").before(o)}}function i(n){e(".group-header",n).each(function(){var p=e(this),o=p.next(),q=".error:visible, .warn:visible, .group.expanded";if(o.is(":empty")||!e.trim(o.html()).length){return}p.attr("data-toggle","group");if(!o.hasClass("expanded")&&!o.find(q).length){p.find("i").addClass(a).removeClass(j);o.hide()}else{p.find("i").addClass(j).removeClass(a)}o.removeClass("collapsed expanded")})}function h(n){e(".t_array",n).each(function(){var o=e('<span class="t_array-expand" data-toggle="array"><span class="t_keyword">Array</span><span class="t_punct">(</span><i class="fa '+a+'"></i>&middot;&middot;&middot;<span class="t_punct">)</span></span>');if(!e.trim(e(this).find(".t_array-inner").html()).length){e(this).find("br").hide();e(this).find(".t_array-inner").hide();return}e(this).find(".t_keyword").first().wrap('<span class="t_array-collapse" data-toggle="array">').after(' <i class="fa '+j+'"></i>');if(!e(this).parents(".t_array").length){e(this).before(o.hide())}else{e(this).hide().before(o)}});e(".t_key",n).each(function(){var p=e(this).html(),r=p.match(/\[(.*)\]/),o=r[1],s=o.match(/^\d+$/),q=s?"t_key t_int":"t_key";p='<span class="t_punct">[</span><span class="'+q+'">'+o+'</span><span class="t_punct">]</span>';e(this).replaceWith(p)})}function c(n){e(".alert [class*=error-]",n).each(function(){var o=e(this).html(),q='<label><input type="checkbox" checked /> '+o+"</label>",p=e(this).attr("class");e(this).html(q);e(this).find("input").on("change",function(){if(e(this).is(":checked")){e(".debug-content ."+p,n).show()}else{e(".debug-content ."+p,n).hide();i(n)}})})}function b(o){var p=e(o),n=p.hasClass("t_array-expand")?p.next():p.closest(".t_array");if(p.hasClass("t_array-expand")){p.hide();n.show()}else{n.hide();n.prev().show()}}function f(o){var p=e(o),n=p.next();if(n.is(":visible")){n.slideUp("fast",function(){p.find("i").addClass(a).removeClass(j)})}else{n.slideDown("fast",function(){p.find("i").addClass(j).removeClass(a)})}}}(window.jQuery||undefined));